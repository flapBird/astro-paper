---
import { getCollection } from "astro:content";
import Layout from "@layouts/Layout.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import LinkButton from "@components/LinkButton.astro";
import Hr from "@components/Hr.astro";
import Card from "@components/Card";
import Socials from "@components/Socials.astro";
import getSortedPosts from "@utils/getSortedPosts";
import { SOCIALS } from "@config";

const posts = await getCollection("blog");

const sortedPosts = getSortedPosts(posts);
const featuredPosts = sortedPosts.filter(({ data }) => data.featured);
const recentPosts = sortedPosts.filter(({ data }) => !data.featured);

const socialCount = SOCIALS.filter(social => social.active).length;
---

<Layout>
  <Header />
  <main id="main-content">
    <section id="hero">
      <h1>Photo Replicate</h1>

      <p>
        Photo Replicate is a tool that uses AI technology to restore old photos. It can restore some blurry and defective photos to a high-definition and complete state.
      </p>

      <div>
            <img src="https://replicate.delivery/pbxt/KSFsLGhrPTExSI9hzLgP8YO2wHtc38qmibPcTqRsoLMO1RkT/57.png" alt="输入图像" data-rcs="image" style="display: block; width: 100%; height: 100%; max-width: 100%; box-sizing: border-box; object-fit: cover; object-position: center center;">
      </div>
      <!--
      <div>
            <img src="https://replicate.delivery/pbxt/zgOzfTqRFx1lXi5IpnHVNX6l8bfmK2IwKE14GNxnQ2OaznZSA/out.png" alt="输出图像" data-rcs="image" style="display: block; width: 100%; height: 100%; max-width: 100%; box-sizing: border-box; object-fit: cover; object-position: center center;">
      </div>
      -->
      <div class="__rcs-handle-button" style="display: grid; grid-auto-flow: column; gap: 8px; place-content: center; flex-shrink: 0; width: 56px; height: 56px; border-radius: 50%; border-style: solid; border-width: 2px; pointer-events: auto; backdrop-filter: blur(7px); background-color: rgba(0, 0, 0, 0.125); box-shadow: rgba(0, 0, 0, 0.35) 0px 0px 4px;"><div class="__rcs-handle-arrow" style="width: 0px; height: 0px; border-top: 8px solid transparent; border-right: 10px solid; border-bottom: 8px solid transparent;"></div><div class="__rcs-handle-arrow" style="width: 0px; height: 0px; border-top: 8px solid transparent; border-right: 10px solid; border-bottom: 8px solid transparent; transform: rotate(180deg);"></div></div>
      <div data-rcs="root" style="position: relative; display: flex; overflow: hidden; touch-action: none; user-select: none;"><div class="h-full w-full relative"><div class="absolute top-0 left-4 bottom-0 pointer-events-none flex items-center justify-center transition-opacity opacity-100 group-hover:opacity-0"><span class="bg-black/70 text-white px-2 py-1 text-r8-sm font-semibold"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前</font></font></span></div><img src="https://replicate.delivery/pbxt/KSFsLGhrPTExSI9hzLgP8YO2wHtc38qmibPcTqRsoLMO1RkT/57.png" alt="输入图像" data-rcs="image" style="display: block; width: 100%; height: 100%; max-width: 100%; box-sizing: border-box; object-fit: cover; object-position: center center;"></div><div data-rcs="clip-item" style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; user-select: none; will-change: clip-path, transition; clip-path: inset(0px 0px 0px 32.8569%);"><div class="h-full w-full"><div class="absolute top-0 right-4 bottom-0 pointer-events-none flex items-center justify-center transition-opacity opacity-100 group-hover:opacity-0"><span class="bg-black/70 text-white px-2 py-1 text-r8-sm font-semibold"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后</font></font></span></div><img src="https://replicate.delivery/pbxt/zgOzfTqRFx1lXi5IpnHVNX6l8bfmK2IwKE14GNxnQ2OaznZSA/out.png" alt="输出图像" data-rcs="image" style="display: block; width: 100%; height: 100%; max-width: 100%; box-sizing: border-box; object-fit: cover; object-position: center center;"></div></div><button aria-orientation="horizontal" aria-valuemin="0" aria-valuemax="100" aria-valuenow="33" data-rcs="handle-container" role="slider" style="position: absolute; top: 0px; height: 100%; background: none; border: 0px; padding: 0px; pointer-events: all; appearance: none; outline: 0px; transform: translate3d(-50%, 0px, 0px); left: 32.8569%;"><div aria-label="拖动以移动" class="__rcs-handle-root" style="display: flex; flex-direction: column; place-items: center; height: 100%; cursor: ew-resize; pointer-events: none; color: rgb(255, 255, 255);"><div class="__rcs-handle-line" style="flex-grow: 1; height: 100%; width: 2px; background-color: currentcolor; pointer-events: auto; box-shadow: rgba(0, 0, 0, 0.5) 0px 0px 4px;"></div><div class="__rcs-handle-button" style="display: grid; grid-auto-flow: column; gap: 8px; place-content: center; flex-shrink: 0; width: 56px; height: 56px; border-radius: 50%; border-style: solid; border-width: 2px; pointer-events: auto; backdrop-filter: blur(7px); background-color: rgba(0, 0, 0, 0.125); box-shadow: rgba(0, 0, 0, 0.35) 0px 0px 4px;"><div class="__rcs-handle-arrow" style="width: 0px; height: 0px; border-top: 8px solid transparent; border-right: 10px solid; border-bottom: 8px solid transparent;"></div><div class="__rcs-handle-arrow" style="width: 0px; height: 0px; border-top: 8px solid transparent; border-right: 10px solid; border-bottom: 8px solid transparent; transform: rotate(180deg);"></div></div><div class="__rcs-handle-line" style="flex-grow: 1; height: 100%; width: 2px; background-color: currentcolor; pointer-events: auto; box-shadow: rgba(0, 0, 0, 0.5) 0px 0px 4px;"></div></div></button></div>

    </section>

    <Hr />


  </main>

  <Footer />
</Layout>

<style>
  /* ===== Hero Section ===== */
  #hero {
    @apply pb-6 pt-8;
  }
  #hero h1 {
    @apply my-4 inline-block text-3xl font-bold sm:my-8 sm:text-5xl;
  }
  #hero .rss-link {
    @apply mb-6;
  }
  #hero .rss-icon {
    @apply mb-2 h-6 w-6 scale-110 fill-skin-accent sm:mb-3 sm:scale-125;
  }
  #hero p {
    @apply my-2;
  }
  .social-wrapper {
    @apply mt-4 flex flex-col sm:flex-row sm:items-center;
  }
  .social-links {
    @apply mb-1 mr-2 whitespace-nowrap sm:mb-0;
  }

  /* ===== Featured & Recent Posts Sections ===== */
  #featured,
  #recent-posts {
    @apply pb-6 pt-12;
  }
  #featured h2,
  #recent-posts h2 {
    @apply text-2xl font-semibold tracking-wide;
  }
  .all-posts-btn-wrapper {
    @apply my-8 text-center;
  }
</style>
